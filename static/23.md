---
Id: 23
Title: 容器运行时
Date: 陆月壹
Year: 2021
Summary: 参考大佬文章，加深理解容器
Tags:
  - Docker
---

## OCI && CRI

使用容器经常会听到容器运行时的概念、OCI以及CRI等，这些有什么区别和联系呢？

- CR，即Container Runtime，容器运行时
- CRI，即Container Runtime Interface，容器运行时接口，实现该系列接口以实现容器功能
- OCI，即Open Container Initiative：开口容器倡议，是建立围绕容器格式和运行时的开放式行业标准的明确目的的开放式的治理结构。

OCI 目前包含两个规范：运行时规范（runtime-spec）和镜像规范（image-spec）。运行时规范概述了如何运行在磁盘上解压缩的“文件系统包”。

现在清楚了，OCI定义了一种规范，即怎么做如何做。而CR是这个规范的实践并定义了一系列接口CRI，只要实现了该接口就能使用这个CR。

比如CR有很多种，如runc、lxc等，但他们都提供了统一的CRI，其他实现了这个CRI的组件如kubelet在runc和lxc间切换是无感的。


## 低级（low-level）容器运行时

## 高级（high-level）容器运行时

## K8s 与 CRI

## 实现一个容器运行时

## 参考链接

[Container Runtimes Part 1: An Introduction to Container Runtimes](https://www.ianlewis.org/en/container-runtimes-part-1-introduction-container-r)

[opencontainers.org](https://opencontainers.org/)

[runtime-spec](https://github.com/opencontainers/runtime-spec)

[Building a container from scratch in Go - Liz Rice (Microscaling Systems)
](https://www.youtube.com/watch?v=Utf-A4rODH8)